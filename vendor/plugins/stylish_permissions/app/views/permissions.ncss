a, form, div, span {
   .create, .update, .destroy, .show, .edit, .new, .handle, .warning {
      display: none;
   }
}

div.rendering.without_content {
  display: none;
}

body.role_admin {
   a,span { display: inline; }
   span.ui-icon { display: block; }
   a { 
     .create, .update, .destroy, .show, .edit, .new, .handle, .warning {
       display: block;
     }
   }

   div.admin a { display: block; }
   form,div { display: block; }
   div.rendering.without_content {
     display: block;
   }
}


<% @roles.each do |role| %>
*.role_<%= role.short_name %> {
   <% role.permissions.group_by(&:app_controller).each do |res, perms| %>
      <% perms.each do |perm| %>
         a.<%= res %>.<%= perm.app_method %> { display: inline; }
         div.admin a.<%= res %>.<%= perm.app_method %> { display: block; }
         form.<%= res %>.<%= perm.app_method %> { display: block; }
         div.<%= res %>.<%= perm.app_method %> { display: block; }
         span.<%= res %>.<%= perm.app_method %> { display: inline; }
         span.<%= res %>.<%= perm.app_method %>.ui-icon { display: block; }
      <% end %>
   <% end %>
}
<% end %>
